# AutoBooks

AutoBooks is a modern, multi-tenant bookkeeping and accounting system inspired by Wave, designed for small business owners, freelancers, and personal finance enthusiasts. It features robust double-entry accounting, advanced tax handling for Canada, and a flexible workspace model to support both personal and business finances in a single platform.

## Design Philosophy

- **Multi-Tenancy & Workspace Isolation**: Every user can create multiple workspaces (personal or business). All data is strictly isolated at the workspace level using PostgreSQL Row Level Security (RLS), ensuring privacy and security for each tenant.
- **Double-Entry Accounting**: All financial transactions use the double-entry bookkeeping model, ensuring data integrity and compliance with accounting best practices.
- **Tax Engine for Canada**: Built-in support for GST, PST, HST, and ITC (Input Tax Credit) reporting. The system allows for user-defined tax types and stacking, with full auditability.
- **Soft Delete & Audit Log**: All major tables support soft deletion and automatic audit logging for compliance and traceability.
- **API-First**: Designed for API-first development, supporting both REST and GraphQL access patterns.
- **Extensibility**: The architecture is future-proof, supporting multi-currency, OCR for receipts, payroll, and electronic tax filing integrations.

## Key Features

- **User Management**: Single sign-on with email/password. Each user can own multiple isolated workspaces.
- **Workspace Model**: Separate accounting books for personal and business, with the ability to settle funds between workspaces (e.g., reimbursements).
- **Chart of Accounts**: Each workspace maintains its own customizable chart of accounts.
- **Accounts & Transactions**: Bank, credit card, cash, income, and expense accounts. Transactions are recorded with double-entry lines.
- **Cross-Workspace Reimbursement**: Personal payments for business expenses are tracked and settled automatically between workspaces.
- **Tagging System**: Customizable tags (including tax-deductible flags) for advanced reporting (e.g., medical, donation summaries).
- **Tax Engine**: User-defined taxes, stackable, with support for recoverable taxes (ITC). Automated GST/PST/HST calculations and reporting.
- **Reporting**: Budget vs. Actual, Balance Sheet, Profit & Loss, Cash Flow, ITC summary, and deductible expense reports.
- **Security**: Row-level security (RLS) on all tables, soft delete, audit logs, and timezone handling (all timestamps in UTC).

## Technology Stack

- **Database**: PostgreSQL 14+ (with RLS, soft delete, audit triggers)
- **Backend Platform**: Supabase (Postgres + Auth + API)
- **API**: REST & GraphQL (auto-generated by Supabase)
- **Frontend**: (To be implemented, recommended: React, Next.js, or SvelteKit)
- **Infrastructure-as-Code**: Database schema and migrations managed via Supabase CLI

## Getting Started

1. Clone the repository
2. Install dependencies and initialize Supabase:
   ```bash
   npm install # or yarn
   supabase init
   supabase start
   supabase link --project-ref <your-project-ref>
   supabase db push
   ```
3. Configure your environment variables in `.env`
4. (Optional) Generate TypeScript types from your database:
   ```bash
   supabase gen types typescript --project-id <your-project-ref> > src/types/supabase.ts
   ```
5. Start building your API or frontend!

## Project Structure

- `.windsurf.json` — Project rules and conventions
- `.gitignore` — Standard ignores for Node, Supabase, and IDEs
- `supabase/migrations/` — All database schema migrations (including initial schema)
- `supabase/config.toml` — Supabase local/remote project configuration
- `src/` — Application source code (frontend/backend)
- `tests/` — Automated tests

## Future Roadmap

- Multi-currency support and real-time FX rates
- OCR for invoice/receipt uploads
- Payroll and electronic tax filing (CRA XML-Filing)
- More advanced reporting and dashboard features

## License

[MIT](LICENSE)

---

AutoBooks is designed to be extensible, auditable, and secure, making modern accounting accessible for everyone. Contributions and feedback are welcome!
